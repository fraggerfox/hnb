##########
# configuration file for hnb,
#
# use a tabspacing of 8 when editing this file
#
# (please be aware that this is the configuration file for a development version,
#  things might change drastically soon,.. or perhaps later)

########## 
# what kind of bullets are displayed before each item
#
bullet_parent   +
#bullet_parent   -
#bullet_parent   *
#bullet_parent   ·
bullet_leaf   -
#bullet_leaf   *
#bullet_leaf   ·

########
# default format to use available parameters:
# 0 - xml using hnb DTD
# 1 - tab indented ascii
# 2 - xml using no DTD (xml editor)
# 3 - xml using OPML DTD

format 0

#########
#
# defining how each node is displayed, the display string syntax is
# interpreted as follows:
#
#   spaces turn into real spaces, i means indentation, - means bullet,
#   d means the real data of the node, x is a temporary placeholder for
#   upcoming columntypes,. (for debugging only)
#
#   i and x can take an argument specifying how many characters wide
#   the field should be
#
#   until further features are added, only the multiplier after
#   indentation actually does something
#   # indicates node number
#
# 
display_format i4- d

#########
# what command is executed when a user wants a action performed on a
# entry containing an url
# 
# * is subsituted for the url
#
# the X ones have their error and standard output redirected to dev/null
# and are put into the background to keep hnb running afterwards

#web_command opera -remote 'openURL(*)'			> /dev/null 2>&1 &
#web_command netscape -remote 'openURL(*)'		> /dev/null 2>&1 &
#web_command netscape -remote 'openURL(*,new-window)'	> /dev/null 2>&1 &
#web_command mozilla -remote 'openURL(*)'		> /dev/null 2>&1 &
#web_command mozilla -remote 'openURL(*,new-window)'	> /dev/null 2>&1 &
#web_command konqueror *				> /dev/null 2>&1 &
#web_command galeon -n					> /dev/null 2>&1 &
#web_command w3m *
#web_command lynx *
#web_commend rxvt -fn fixed -rv +sb -e w3m *		> /dev/null 2>&1 &

web_command opera -remote 'openURL(*,new-window)'	> /dev/null 2>&1 &

#########
# what command is executed when a user wants a action performed on a
# entry containing a mailaddress
# 
# * is subsituted for the mailaddress
#
#mail_command xterm -rv pine *				> /dev/null 2>&1 &
#mail_command xterm -rv +sb -e mutt *			> /dev/null 2>&1 &
#mail_command pine *

mail_command mutt *


########
# the spellchecker used
#
#spell_command aspell
spell_command ispell -x


##########
# amount of tree displayed
#
# 0 all anchesteral levels expanded
# 1 same as 0, but expand first level of children of current item (buggy)
# 2 expand whole tree
# 3 hide everything but the "anchestral path" (buggy)
#
collapse_mode	0

##########
# lock the position of the selected node to upper half of the screen 
#
fixedfocus	0

##########
# allow to move beyond topmost and bottommost siblings
#
forced_down	0
forced_up	0

##########
# how long the program should wait before accepting that ESC(27d) is the
# ESC key and not the start of an escape sequence
# increase this number if you are using hnb over a slow network link
# value given is in ms (1/1000seconds)
#
escdelay 100


#########
# keep whitespace as is when loading file from xml
#
keepwhitespace	0

##########
# save current position when saving a database
#
savepos		0

xml_cuddle 1

##########
# color scheme configuration, syntax is:
# "style <item>  <foreground/background> <attribute,[attribute]>"
# legal items are shown below
# colors are: blue, cyan, green, red, magenta, yellow, black and white
# attributes are: normal, reverse, bold, underline

style menuitem		default/default	reverse
style menutext		cyan/default normal
style parentnode	default/default bold
style node		default/default	normal
style bullet		cyan/default	normal
style selected		yellow/red 	bold
style parentselected	yellow/red	bold
style background	default/default	normal

##########
# keybindings
#
# syntax: 
#   "bindkey <scope[,scope[...]]>  <key>   <action>"
#
# multiple actions can be chained together by using the virtual key ".."
# as the following keybinding
#
##################################################

context main
	helptext <ESC>| exit || |F2| save || |F5| commandline || |return| edit || | / | find || |^S| ort

	bind	esc		context quitsave

	bind	up		up
	bind	down		down
	bind	left		left
	bind	right		right
	bind 	npage		pagedown
	bind  	ppage		pageup
	bind	home	go_root

	bind  	return  	edit
	bind  	del		remove
	bind  	ins		insert_below
	bind	..		edit
	bind  	tab		complete

	bind  	^T		toggle_todo
	bind  	^D		toggle_done

	bind  	>		indent
	bind  	<		outdent

	bind  ^F			context search
	bind	..		save_state
	bind	..		getquery
	bind	..		next_match

	bind  	f2		save

	bind	^X		save_state
	bind	..		cut
	bind	^C		copy
	bind	^V		paste
	bind	..		down

	bind	^S		save_state
	bind	..		sort

	bind	backspace	backspace
	bind	backspace2	backspace

	bind	f5		commandline
	bind	..		status_clear

	bind	sleft		movenode left
	bind	sright		movenode right
	bind	sprevious	movenode up
	bind	snext		movenode down

	bind	^G		context grab
	bind	..		save_state

	bind	^Z		restore_state
	bind	^A		action

	bind	f6		context spellcheck
	bind	..		spell
	bind	..		save_state
	
	bind	f10		context user

	bind	f1		status Take a look at ~/.hnbrc to check out the configuration
	bind	..		status there you will also find details about the available keybindings.
	bind	..		status please feel free to contribute more useful keybindings and helptexts...

context quitsave
	helptext Save on exit? |    | Y |es | J |a || | N |o || |ESC| cancel

	bind	Y	save
	bind	..	quit
	bind	y	save
	bind	..	quit

	bind	j	save
	bind	..	quit
	bind	J	save
	bind	..	quit

	bind	n	quit
	bind	N	quit

	bind	esc	context main
	bind	any unbound

context spellcheck
	helptext Spellchecking |   |Space| next node |ESC| cancel |F6,Return| confirm changes
	bind	space	go_recurse
	bind	..		spell
	bind	down	go_recurse
	bind	..		spell
	bind	up		go_backrecurse
	bind	..		spell
	bind	return		context main
	bind	f6		context main
	bind	esc		restore_state
	bind	..		context main
	bind	any		unbound

context grab
	helptext Node grabbed |  |return| |space| drop here || |ESC| cancel
	bind	esc		restore_state
	bind	..		context main
	bind	return		context main
	bind	space		context main

	bind	left		movenode left
	bind	right		movenode right
	bind	up		movenode up
	bind	down		movenode down

	bind	any		unbound

context search
	helptext Searching |  |ESC| cancel || | n |ext || | p |revious || |space|/|return| go
	bind	esc		context main
	bind	..		restore_state
	bind	n		next_match
	bind	N		next_match
	bind	P		prev_match
	bind	p		prev_match
	bind	up		prev_match
	bind	down		next_match	
	bind	cancel		poppd
	bind	return		context main
	bind	any		unbound

context confirm
	helptext  y | | j | |return| confirm || |any key| cancel
	bind	y		confirm
	bind	j		confirm
	bind	return		confirm
	bind	any		cancel

context lineedit
	helptext lineedit
	bind	up		up
	bind	down		down
	bind	left		left
	bind	right		right
	bind	return		confirm
	bind	^S		split
	bind	^J		join
	bind	backspace	backspace
	bind	backspace2	backspace
	bind	^A		bol
	bind	^E		eol
	bind	home		bol
	bind	end		eol
	bind	del		delete
	bind	tab		complete
	bind	esc		cancel

context nodeedit
	helptext editing node |  |ESC| revert || |return| confirm
	bind	up		up
	bind	down		down
	bind	left		left
	bind	right		right
	bind	return		confirm
	bind	^S		split
	bind	^J		join
	bind	backspace	backspace
	bind	backspace2	backspace
	bind	^A		bol
	bind	^E		eol
	bind	home		bol
	bind	end		eol
	bind	del		delete
	bind	tab		complete
	bind	esc		cancel

context user
	helptext Usermenu | |ESC| cancel |F1| ispell language |F2| browser command
	bind	esc		context main
	bind	f1		context user_ispell
	bind	f2		context user_browser
	bind	any		unbound

context user_ispell
	helptext Language for ispell: | |F1| Br.english  |F2| Am.english  |F3| Norwegian bokmål  |F4| Norwegian nynorsk
	bind	f1		spell_command ispell -x -damerican
	bind	..		context main
	bind	f2		spell_command ispell -x -dbritish
	bind	..		context main
	bind	f3		spell_command ispell -x -dbokmål
	bind	..		context main
	bind	f4		spell_command ispell -x -dnynorsk
	bind	..		context main
	bind	esc		context main
	bind	any		unbound

context user_browser
	helptext Browser action: | |F1| w3m replace hnb  |F2| w3m in rxvt  |F3| Opera, new tab  |F4| Mozilla new window
	bind	f1		browser_command w3m *
	bind	..		context main
	bind	f2		web_commend rxvt -T "w3m spawned from hnb" -fn fixed -rv +sb -e w3m * > /dev/null 2>&1 &
	bind	..		context main
	bind	f3		web_command opera -remote 'openURL(*,new-window)' > /dev/null 2>&1 &
	bind	..		context main
	bind	f4		web_command mozilla -remote 'openURL(*,new-window)'	> /dev/null 2>&1 &
	bind	..		context main
	bind	esc		context main
	bind	any		unbound

context main


status hnb - hierarchical notebook   http://hnb.sourceforge.net/
status (c) Øyvind Kolås 2001-2003    pippin@users.sourceforge.net
