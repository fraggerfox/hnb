##########
# configuration file for hnb,
#
# use a tabspacing of 8 when editing this file
#
# (please be aware that this is the configuration file for a development version,
#  things might change drastically soon,.. or perhaps later)

##########
# number of spaces to indent each level relative to the parent level
#
indentspaces	2

########## 
# what kind of bullets are displayed before each item
#
# 0 none
# 1 +/- 
# 2 * 
# 3 - 
#
bulletmode	1

##########
# amount of tree displayed
#
# 0 all anchesteral levels expanded
# 1 same as 0, but expand first level of children of current item (buggy)
# 2 expand whole tree
# 3 hide everything but the "anchestral path" (buggy)
#
collapse_mode	0

##########
# lock the position of the selected node to upper half of the screen 
#
fixedfocus	0

##########
# allow to move beyond topmost and bottommost siblings
#
forced_down	0
forced_up	0

##########
# how long the program should wait before accepting that ESC(27d) is the
# ESC key and not the start of an escape sequence
# increase this number if you are using hnb over a slow network link
# value given is in ms (1/1000seconds)
#
escdelay 100


##########
# keep whitespace as is when loading file from xml
#
keepwhitespace	0

##########
# save current position when saving a database
#
savepos		1

xml_cuddle 1

##########
# color scheme configuration, syntax is:
# "style <item>  <foreground/background> <attribute,[attribute]>"
# legal items are shown below
# colors are: blue, cyan, green, red, magenta, yellow, black and white
# attributes are: normal, reverse, bold, underline

style menuitem		default/default	reverse
style menutext		cyan/default normal
style parentnode	white/default bold
style node		default/default	normal
style bullet		cyan/default	normal
style selected		yellow/red 	bold
style parentselected	yellow/red	bold
style background	default/default	normal

##########
# keybindings
#
# syntax: 
#   "bindkey <scope[,scope[...]]>  <key>   <action>"
#
# multiple actions can be chained together by using the virtual key ".."
# as the following keybinding
#
##################################################

context main
	helptext <ESC>| exit || |F2| save || |F5| commandline || |return| edit || | / | find || |^S| ort

	bind	esc		context quitsave

	bind	up		up
	bind	down		down
	bind	left		left
	bind	right		right
	bind 	npage		pagedown
	bind  	ppage		pageup

	bind  	return  	edit
	bind  	del		remove
	bind  	ins		insert_below
	bind	..		edit
	bind  	tab		complete

	bind  	^T		toggle_todo
	bind  	^D		toggle_done

	bind  	>		indent
	bind  	<		outdent

	bind  	/		context search
	bind	..		save_state
	bind	..		getquery
	bind	..		next_match

	bind  	f2		save

	bind	^X		cut
	bind	^C		copy
	bind	^V		paste

	bind	^S		sort

	bind	backspace	backspace
	bind	backspace2	backspace

	bind	f5		commandline
	bind	..		status_clear

	bind	sleft		movenode left
	bind	sright		movenode right
	bind	sprevious	movenode up
	bind	snext		movenode down

	bind	^G		context grab
	bind	..		save_state

context quitsave
	helptext Save on exit? |    | Y |es | J |a || | N |o || |ESC| cancel

	bind	Y	save
	bind	..	quit
	bind	y	save
	bind	..	quit

	bind	j	save
	bind	..	quit
	bind	J	save
	bind	..	quit

	bind	n	quit
	bind	N	quit

	bind	esc	context main
	bind	any unbound


context grab
	helptext Node grabbed |  |return| |space| drop here || |ESC| cancel
	bind	esc		restore_state
	bind	..		context main
	bind	return		context main
	bind	space		context main

	bind	left		movenode left
	bind	right		movenode right
	bind	up		movenode up
	bind	down		movenode down

	bind	any		unbound


context search
	helptext Searching |  |ESC| cancel || | n |ext || | p |revious || |space|/|return| go
	bind	esc		context main
	bind	..		restore_state
	bind	n		next_match
	bind	N		next_match
	bind	P		prev_match
	bind	p		prev_match
	bind	up		prev_match
	bind	down		next_match	
	bind	cancel		poppd
	bind	return		context main
	bind	any		unbound

context confirm
	helptext  y | | j | |return| confirm || |any key| cancel
	bind	y		confirm
	bind	j		confirm
	bind	return		confirm
	bind	any		cancel

context lineedit
	helptext lineedit
	bind	up		up
	bind	down		down
	bind	left		left
	bind	right		right
	bind	return		confirm
	bind	^S		split
	bind	^J		join
	bind	backspace	backspace
	bind	backspace2	backspace
	bind	^A		bol
	bind	^E		eol
	bind	home		bol
	bind	end		eol
	bind	del		delete
	bind	tab		complete
	bind	esc		cancel

context nodeedit
	helptext editing node |  |ESC| revert || |return| confirm
	bind	up		up
	bind	down		down
	bind	left		left
	bind	right		right
	bind	return		confirm
	bind	^S		split
	bind	^J		join
	bind	backspace	backspace
	bind	backspace2	backspace
	bind	^A		bol
	bind	^E		eol
	bind	home		bol
	bind	end		eol
	bind	del		delete
	bind	tab		complete
	bind	esc		cancel

context main
